import java.util.LinkedList;
import java.util.Queue;

public class Client {
	private boolean isActive;
	private Queue<Message> messageQueue;
	private Thread displayThread;
	private ClientWindow window;
	
	public Client() {
		messageQueue = new LinkedList<>();
		//
//		messageQueue = new PriorityQueue<>();
		window = new ClientWindow();
	}
	
	
	
	public void activateMessages() {
		displayThread  = new Thread() {
			public void run() {
				while (!messageQueue.isEmpty()) {
					Message message;
					if ((message = messageQueue.poll()) != null) {
						window.displayMessage(message);
					}
				}
			}
		};
		displayThread.start();
	}
	
	public void inactivateMessages() {
		displayThread.interrupt();
	}
	
	public Queue<Message> getMessageQueue() {
		return messageQueue;
	}
	
	public static void main(String[] args) {
		Client testClient = new Client();
		testClient.getMessageQueue().add(new Message("Lol"));
		for (int n = 0; n < 500; n++) {
			testClient.getMessageQueue().add(new Message("" + ('a' + n%26)));
		}
	}
}
